<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Solar Eclipse Demo</title>
  <style>
    :root {
      --bg-start: #0b1020;
      --bg-end: #1a2240;
      --accent: #ffd166;
      --text: #e6edf3;
      --muted: #9aa4b2;
      --btn: #7a5cff;
      --btn-hover: #6a4bff;
      --card: rgba(255, 255, 255, 0.06);
      --border: rgba(255, 255, 255, 0.12);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background: radial-gradient(1200px 800px at 50% 20%, var(--bg-end), var(--bg-start));
      color: var(--text);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    }

    main {
      width: min(920px, 92vw);
      padding: 28px;
      border-radius: 16px;
      background: var(--card);
      border: 1px solid var(--border);
      box-shadow: 0 30px 80px rgba(0,0,0,0.45);
    }

    h1 {
      margin: 0 0 12px;
      font-size: clamp(1.4rem, 1.1rem + 2.2vw, 2.2rem);
      letter-spacing: 0.3px;
    }

    p.lead {
      margin: 0 0 20px;
      color: var(--muted);
      font-size: clamp(0.95rem, 0.9rem + 0.4vw, 1.1rem);
    }

    .center {
      display: grid;
      place-items: center;
      padding: 18px 0 6px;
    }

    button#eclipseBtn {
      padding: 14px 26px;
      border: none;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--btn), var(--btn-hover));
      color: white;
      font-weight: 700;
      font-size: 1.05rem;
      letter-spacing: 0.3px;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(106, 75, 255, 0.35);
      transition: transform 0.15s ease, filter 0.15s ease, box-shadow 0.2s ease;
    }

    button#eclipseBtn:hover { 
      transform: translateY(-1px); 
      filter: brightness(1.05);
      box-shadow: 0 14px 34px rgba(106, 75, 255, 0.45);
    }

    .hidden { display: none; }

    /* Scene container */
    .scene {
      width: 100%;
      aspect-ratio: 16 / 9;
      margin: 6px auto 14px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: radial-gradient(120% 120% at 50% 20%, #111a33, #060913 55%, #03060e 100%);
      position: relative;
      overflow: hidden;
      isolation: isolate;
    }

    /* Subtle star field */
    .scene::before {
      content: "";
      position: absolute;
      inset: 0;
      background-image:
        radial-gradient(2px 2px at 10% 20%, rgba(255,255,255,0.8) 40%, transparent 42%),
        radial-gradient(1.5px 1.5px at 30% 70%, rgba(255,255,255,0.6) 40%, transparent 42%),
        radial-gradient(1.8px 1.8px at 70% 30%, rgba(255,255,255,0.7) 40%, transparent 42%),
        radial-gradient(1.4px 1.4px at 85% 60%, rgba(255,255,255,0.65) 40%, transparent 42%),
        radial-gradient(1.3px 1.3px at 50% 80%, rgba(255,255,255,0.6) 40%, transparent 42%),
        radial-gradient(1.2px 1.2px at 20% 50%, rgba(255,255,255,0.55) 40%, transparent 42%);
      opacity: 0.55;
      z-index: 0;
      pointer-events: none;
    }

    /* Sun, corona, and moon are done in SVG for crispness */
    .scene svg { width: 100%; height: 100%; display: block; }

    /* Corona subtle pulse while the moon approaches */
    .scene.play .corona { animation: coronaPulse 6.2s ease-in-out 1 both; }

    @keyframes coronaPulse {
      0%   { opacity: 0.15; filter: drop-shadow(0 0 0px #fef6b0); }
      45%  { opacity: 0.35; filter: drop-shadow(0 0 12px #ffe07a); }
      60%  { opacity: 0.5;  filter: drop-shadow(0 0 30px #ffd166); }
      100% { opacity: 0.35; filter: drop-shadow(0 0 16px #ffe07a); }
    }

    /* Moon transit animation (plays once, then stops in place) */
    .scene.play .moon { animation: transit 6s ease-in-out 1 both; }

    @keyframes transit {
      0%   { transform: translateX(-420px); }
      50%  { transform: translateX(-20px); }
      62%  { transform: translateX(0px); }     /* totality */
      100% { transform: translateX(0px); }     /* hold final state */
    }

    /* Info section */
    .info {
      padding: 12px 0 4px;
      line-height: 1.6;
      color: var(--text);
    }
    .info h2 { 
      margin: 8px 0 6px; 
      font-size: clamp(1.05rem, 0.9rem + 0.8vw, 1.4rem);
    }
    .info p { color: var(--muted); margin: 0 0 8px; }
    .info ul { margin: 6px 0 0 18px; color: var(--muted); }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .scene.play .moon, .scene.play .corona { animation: none; }
    }
  </style>
</head>
<body>
  <main aria-live="polite">
    <h1>Solar Eclipse Mini‑Library</h1>
    <p class="lead">A tiny interactive demo. Click the button to watch a one‑time eclipse animation and read a quick explainer.</p>

    <div class="center">
      <button id="eclipseBtn" type="button" aria-controls="scene info">Eclipse</button>
    </div>

    <div id="scene" class="scene hidden" aria-hidden="true">
      <svg viewBox="0 0 960 540" role="img" aria-label="Solar eclipse animation">
        <!-- Sun -->
        <defs>
          <radialGradient id="sunGrad" cx="50%" cy="50%" r="65%">
            <stop offset="0%" stop-color="#fff4c7" />
            <stop offset="55%" stop-color="#ffd166" />
            <stop offset="85%" stop-color="#ffb703" />
            <stop offset="100%" stop-color="#ff9900" />
          </radialGradient>
        </defs>

        <!-- Subtle horizon glow -->
        <ellipse cx="480" cy="380" rx="420" ry="140" fill="rgba(255, 209, 102, 0.06)" />

        <!-- Sun disk -->
        <circle cx="480" cy="270" r="110" fill="url(#sunGrad)" />

        <!-- Corona (glow ring) -->
        <g class="corona" style="opacity:0.3">
          <circle cx="480" cy="270" r="140" fill="none" stroke="#ffd166" stroke-width="16" stroke-opacity="0.3" />
          <circle cx="480" cy="270" r="170" fill="none" stroke="#ffe07a" stroke-width="10" stroke-opacity="0.22" />
          <circle cx="480" cy="270" r="205" fill="none" stroke="#fff4c7" stroke-width="6" stroke-opacity="0.18" />
        </g>

        <!-- Moon (starts off-screen left, moves to cover sun) -->
        <g class="moon" style="transform: translateX(-420px); will-change: transform;">
          <circle cx="480" cy="270" r="118" fill="#0b0f1a" />
          <!-- Limb highlight -->
          <circle cx="480" cy="270" r="118" fill="none" stroke="#1a2133" stroke-width="3" />
        </g>
      </svg>
    </div>

    <section id="info" class="info hidden" aria-hidden="true">
      <h2>What is a solar eclipse?</h2>
      <p>A solar eclipse happens when the Moon moves between the Earth and the Sun, casting a shadow on Earth and fully or partially blocking the Sun’s light.</p>
      <ul>
        <li><strong>Total eclipse</strong>: the Moon completely covers the Sun at the path of totality.</li>
        <li><strong>Annular eclipse</strong>: the Moon is farther away, leaving a bright “ring of fire.”</li>
        <li><strong>Partial eclipse</strong>: only part of the Sun is covered.</li>
      </ul>
      <p><strong>Safety</strong>: Never look directly at the Sun without certified solar filters, even during partial phases.</p>
    </section>
  </main>

  <script>
    const btn = document.getElementById('eclipseBtn');
    const scene = document.getElementById('scene');
    const info = document.getElementById('info');

    function startEclipse() {
      // Hide button
      btn.remove();
      // Reveal scene and info
      scene.classList.remove('hidden');
      scene.classList.add('play');
      scene.setAttribute('aria-hidden', 'false');

      info.classList.remove('hidden');
      info.setAttribute('aria-hidden', 'false');

      // Optionally, after animation ends we keep the final frame (CSS forwards already does this)
      const moon = scene.querySelector('.moon');
      if (moon) {
        moon.addEventListener('animationend', () => {
          // Ensure it stays at final state
          moon.style.transform = 'translateX(0)';
        }, { once: true });
      }
    }

    btn.addEventListener('click', startEclipse);
  </script>
</body>
</html>
